{
  "_task_id": "INFOLINE",
  "_start_urls": ["https://www.vrx.ru/data/prodazha/commercial/",
    "https://www.vrx.ru/data/prodazha/garages/",
    "https://www.vrx.ru/data/arenda/commercial/",
    "https://www.vrx.ru/data/arenda/garages/"
  ],
  "_segment": "Коммерческая",
  "_operation": "sale",
  "_federal_subject": "",
  "_source": "INFOLINE",
  "global_settings": {
    "CONCURRENT_REQUESTS": 512,
    "DOWNLOAD_TIMEOUT": 60,
    "SPLASH_URL": "http://0.0.0.0:8050",
    "LOG_LEVEL": "INFO",
    "AUTOTHROTTLE_ENABLED": false,
    "AUTOTHROTTLE_START_DELAY": 1.0,
    "AUTOTHROTTLE_MAX_DELAY": 60,
    "AUTOTHROTTLE_TARGET_CONCURRENCY": 512,
    "HTTPERROR_ALLOWED_CODES": [],
    "CONCURRENT_REQUESTS_PER_DOMAIN": 512,
    "RETRY_ENABLED": true,
    "RETRY_HTTP_CODES": [
      500,
      503,
      502,
      504,
      400,
      403,
      408,
      429,
      505,
      303,
      302,
      301
    ],
    "RETRY_TIMES": 20,
    "ROBOTSTXT_ENABLED": false,
    "ROBOTSTXT_OBEY": false,
    "REDIRECT_ENABLED": false,
    "COOKIES_ENABLED": false,
    "RANDOM_UA_TYPE": "random"
  },
  "methods": {
    "crawling_type": "common",
    "filter_duplicates": true,
    "allowed_domains": [],
    "proxy_settings": {
      "types": [
        "https"
      ]
    }
  },
  "crawl_tree": [
    {"pagination_urls": {"path": "(//div[@class='pages']//a[contains(@class,'sel')]/following-sibling::a[1]/@href)[1]"},
     "item_urls": {"path": "//h3[@itemprop='name']/a/@href"}}
  ],
  "item_page" : {
        "fields" : {
            "date_info" : {
                "type" : "date",
                "time" : "now"
            },
			"date_created" : {
                "type" : "date",
                "path": "//div[@title='Последнее изменение']/text()",
				"time" : "from string"
            },
			"date_updated" : {
                "type" : "date",
                "path": "//div[@title='Последнее изменение']/text()",
				"time" : "from string"
            },
			"description" : {
				"type" : "list to string",
				"path": "//div[@class='app']/p/text()"
			},
			"price" : {
                "type" : "float",
				"path": "//legend[@class='price']/text()",
				"regex" : "\\d+"
            },
			"price_currency" : {
                "type" : "string",
				"path": "//legend[@class='price']/text()",
                "regex" : "₽"
            },
            "price_term" : {
                "type" : "string",
				"path": "//legend[@class='price']/text()",
                "regex" : "В МЕС|ГОД|ДЕНЬ|НЕД"
            },
            "price_unit" : {
                "type" : "string",
				"path": "//legend[@class='price']/text()",
                "regex" : "КВ.М|ГА|СOT"
            },
			"phone": {
				"type" : "phone",
				"path": "(//div[contains(@class,'bphone')]/text())[1]"
			},
			"title_name" : {
                "type" : "string",
                "path": "//h1/a/text()"
            },
			"source_latitude" : {
                "type" : "float",
                "path": "//li[contains(@onclick,'Create')]/@onclick",
				"regex" : "(?<=CreatePanaram\\(\\[)\\d*\\W?\\d+"
            },
			"source_longitude" : {
                "type" : "float",
                "path": "//li[contains(@onclick,'Create')]/@onclick",
				"regex" : "\\d*\\W?\\d+(?=\\],this)"
            },
            "address": {
                "type": "list to string",
                "path":   "(//div[@title='Адрес'])[1]/a/text()"
            },
            "operation": {
                "type": "list to string",
                "path":   "//div[@id='krosh']/span/a/text()",
                "regex" : "Аренда|Продажа"
            },
            "segment_subtype": {
                "type": "list to string",
                "path": "//div[@id='krosh']/span/a/text()",
                "regex" : "Помещение|Гараж|Склад|"
            },
          "area_total": {
            "type": "float",
            "path": "//div[@title='Площадь']/text()",
            "regex": "\\d*\\W?\\d+(?=/)"
          },
          "area_unit": {
            "type": "string",
            "path": "//div[@title='Площадь']/text()",
            "regex": "кв.м|сот|га"
          },
          "seller_name": {
            "type": "string",
            "path": "//div[@class='mrk bface']/a/text()"
          },
          "seller_company": {
            "type": "string",
            "path": "//div[@class='mrk bfirm']/a/text()"
          },
          "rooms_cnt": {
            "type": "string",
            "path": "//div[@title='комнат']/text()"
          },
          "floor": {
            "type": "float",
            "path": "//div[contains(@title,'Этаж')]/text()",
            "regex": "\\d*\\W?\\d+(?=/)"
          },
          "floors_cnt": {
            "type": "float",
            "path": "//div[contains(@title,'Этаж')]/text()",
            "regex": "(?<=/)\\d*\\W?\\d+"
          },
          "year_built": {
          "type": "float",
          "path": "//div[contains(@title,'Дата постройки')]/text()",
          "regex": "\\d*\\W?\\d+"
          }
        }
		}
}