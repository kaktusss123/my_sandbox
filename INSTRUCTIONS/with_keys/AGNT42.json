{
	"comment": "доделать пагинации xpath",
    "_task_id" : "AGENT42_test_1",
    "_start_urls" : [
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=18&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=19&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=20&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=22&order=25&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=23&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=25&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=26&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=28&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=29&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=37&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=38&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=40&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=48&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=49&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=50&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=52&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=55&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=57&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=61&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=62&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=63&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=64&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=65&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=69&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=70&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=71&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=72&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=73&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=74&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=75&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=78&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=79&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=80&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=81&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=82&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=82&order=0&expand=0&rooms=1&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=82&order=0&expand=0&rooms=2&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=82&order=0&expand=0&rooms=3&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=82&order=0&expand=0&rooms=4&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=83&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=85&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=86&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=87&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=88&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=95&order=0&expand=0&Itemid=0",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=96&order=0&expand=0&Itemid=546",
  "http://agent42.ru/index.php?option=com_adsmanager&page=show_category&catid=58&order=0&expand=0&Itemid=546"
],
    "_segment" : "",
    "_operation" : "",
    "_federal_subject" : "Кемеровская область",
    "_source": "AGENT42",
    "global_settings" : {
        "CONCURRENT_REQUESTS" : 256,
        "CONCURRENT_REQUESTS_PER_DOMAIN" : 256,
        "DOWNLOAD_TIMEOUT" : 60,
        "SPLASH_URL" : "http://0.0.0.0:8050",
        "LOG_LEVEL" : "INFO",
        "AUTOTHROTTLE_ENABLED" : false,
        "AUTOTHROTTLE_START_DELAY" : 1.0,
        "AUTOTHROTTLE_MAX_DELAY" : 60,
        "AUTOTHROTTLE_TARGET_CONCURRENCY" : 256,
        "HTTPERROR_ALLOWED_CODES" : [],
        "RETRY_ENABLED" : true,
        "RETRY_TIMES" : 100,
        "RETRY_HTTP_CODES" : [
            500,
            503,
            504,
            400,
            403,
            408,
            429,
            505,
            404,
            303,
            302,
			301
        ],
        "ROBOTSTXT_ENABLED" : false,
        "ROBOTSTXT_OBEY" : false,
        "REDIRECT_ENABLED" : false,
        "COOKIES_ENABLED" : false,
        "RANDOM_UA_TYPE" : "random"
    },
    "crawling_settings" : {
        "global_crawling_type" : "common",
        "js": "//",
        "rotate_useragents" : true,
        "allowed_domains" : [],
        "proxy_settings" : {
            "types" : [
                "https"
            ],
            "amount": 10000
        }
    },
	
	"paginations": {
		"methods": {
		  "crawling_type": "common",
		  "filter_duplicates": true
		},
		"paginations_by_xpath": {
		  "paginations_xpath": "//p[@align='pagination-pages clearfix']//a",
		  "paginations_xpath_active": "//div[@class='pagination-pages clearfix']/span",
		  "paginations_xpath_next": "//a[@class='pagination-page js-pagination-next']/@href"
		}
  },
	
    "item_page" : {
        "_target_xpath" : "//h2//a/@href",
        "methods" : {
            "crawling_type" : "common",
            "js": "//document.getElementsByClassName('offer-detail__contact-phone-button')[0].click()",
            "filter_duplicates" : true
        },
        "fields" : {
            "date_info" : {
                "type" : "date",
                "time" : "now"
            },
			"price_currency" : {
                "type" : "string",
                "value" : "RUB"
            },
			"title_name" : {
                "type" : "list to string",
                "xpath" : "//h1[@align='left']//text()"
            },
			"seller_name" : {
				"type" : "string",
				"xpath": "(//div[@class='adsmanager_ads_desc']//text())[last()-1]",
				"regex": "[а-яА-Яй]+"
			},
			"phone": {
				"type" : "phone",
				"xpath": "(//div[@class='adsmanager_ads_desc']//text())[last()-1]"				
			},
			"description": {
			    "type" : "list to string",
                "xpath" : "//b[contains(.,'Контактное лицо')]/../text()"
			},
			"building_type": {
                "type" : "string",
                "xpath" : "//h1[@align='left']//text()",
				"regex": "Земельные участки|Нежилое помещение|Офисное здание|Офис|Торговое помещение|Дом|Квартира"
			},
			"purpose": {
                "type" : "string",
                "xpath" : "//div[@class='adsmanager_pathway']//a[last()]/text()",
				"regex": "КГТ и комнаты|Инвестиционные проекты|Торгово - офисная|Земельные участки"
			},
			"reference_point": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Адрес')]/following::text())[1]",
				"regex": "- (.+)"
			},
			
			"address": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Адрес')]/following::text())[1]"
			},
			"price_total": {
                "type" : "list to string",
                "xpath" : "//div[@class='adsmanager_ads_price']/text()",
				"regex": "(\\d*\\W?\\d+) Тыс"
			},
			"rent_price_per_area": {
                "type" : "list to string",
                "xpath" : "//div[@class='adsmanager_ads_price']/text()",
				"regex": " \\((.+) Руб"
			},
			"intown_district": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Район')]/following::text())[1]"
			},
			"layout_type": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Планировка')]/following::text())[1]"
			},
			"area_total": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Площадь общая')]/following::text())[1]"
			},
			"area_living": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Площадь Жилая')]/following::text())[1]",
				"regex": "(.+)\/"
			},
			"kitchen_area": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Площадь Жилая')]/following::text())[1]",
				"regex": "\/(.+)"
			},
			"rooms_cnt": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Количество комнат')]/following::text())[1]"
			},
			"floor": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'этажность')]/following::text())[1]",
				"regex": "(.+)\/"
			},
			"floors_cnt": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'этажность')]/following::text())[1]",
				"regex": "\/(.+)"
			},
			"wall_material": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Материал стен')]/following::text())[1]"
			},
			"year_built": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Год постр')]/following::text())[1]"
			},
			"ceiling_height": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Высота потолков')]/following::text())[1]"
			},
			"is_balcony": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Балкон')]/following::text())[1]"
			},
			"pravo": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Тип собственности')]/following::text())[1]"
			},
			"land_area": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Площадь участка')]/following::text())[1]"
			},
			"land_category": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Категория земель')]/following::text())[1]"
			},
			"parking_cnt": {
                "type" : "string",
                "xpath" : "(//b[contains(.,'Паркинг')]/following::text())[1]"
			}
        }
    }
}
