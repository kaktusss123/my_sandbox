{  "_task_id": "TORGI",
    "_start_urls": [
        "https://torgi.gov.ru/opendata/7710349494-torgi/data.xml?bidKind=1&publishDateFrom=20190601T0000"
    ],
    "_segment": "test",
    "_operation": "test",
    "_federal_subject": "all",
    "_source": "torgi.gov.ru",
    "global_settings": {
        "CONCURRENT_REQUESTS": 200,
        "DOWNLOAD_TIMEOUT": 600,
        "SPLASH_URL": "http://0.0.0.0:8050",
        "LOG_LEVEL": "INFO",
        "AUTOTHROTTLE_ENABLED": false,
        "AUTOTHROTTLE_START_DELAY": 1.0,
        "AUTOTHROTTLE_MAX_DELAY": 60,
        "AUTOTHROTTLE_TARGET_CONCURRENCY": 200,
        "HTTPERROR_ALLOWED_CODES": [],
        "CONCURRENT_REQUESTS_PER_DOMAIN": 200,
        "RETRY_ENABLED": true,
        "RETRY_HTTP_CODES": [
            500,
            503,
            504,
            400,
            403,
            408,
            429,
            505,
            404,
            302,
            303,
            502,
            407
        ],
        "RETRY_TIMES": 100,
        "ROBOTSTXT_ENABLED": false,
        "ROBOTSTXT_OBEY": false,
        "REDIRECT_ENABLED": true,
        "COOKIES_ENABLED": false,
        "RANDOM_UA_TYPE": "random"
    },
    "methods": {
        "crawling_type": "common",
        "content_type": "xml",
        "allowed_domains": [],
        "proxy_settings": {
            "types": [
                "https"
            ]
        },
        "namespace": {"prefix": "d", "url": "http://torgi.gov.ru/opendata"}
    },

    "crawl_tree": [{
    "item_urls": {"path": "//d:odDetailedHref/text()"}}
  ],
          "sitemap_urls": {
            "start": ["https://torgi.gov.ru/opendata/7710349494-torgi/data.xml?bidKind=1&publishDateFrom=20190601T0000"],
            "type": "pagination",
            "target": "pagination",
            "crawl_tree": {
                "pagination": {
                    "targets": {
                        "item": {"type": "item", "path": "//d:odDetailedHref/text()"}
                    }
                },
				"item": {}
            }
        },

    "item_page": {
      "count": {
        "type": "list",
        "path": "//d:lot/d:lotNum/text()",
        "replace": "*index*"},
      "fields":
     {
            "date_info": {
                "type": "date",
                "time": "now"
            },
            "address": {
                "type": "string",
                "path": "//d:lot/d:location/text()"
            },
          "trading_status": {
                "type": "string",
                "path": "//d:lot[*index*]/d:bidStatus/d:name/text()"
            },
          "object_type": {
                "type": "string",
                "path": "//d:lot[*index*]/d:propertyType/d:name/text()"
            },
          "ownership_type": {
                "type": "string",
                "path": "//d:lot[*index*]/d:propKind/d:name/text()"
            },
          "contract_term": {
                "type": "string",
                "path": "concat(//d:lot[*index*]/d:termYear/text(), ' лет, ', //d:lot[*index*]/d:termMonth/text(), ' месяцев, ', //d:lot[*index*]/d:termDay/text(), ' дней')"
            },
          "rent_per_year": {
                "type": "float",
                "path": "//d:lot[*index*]/d:yearPrice/text()"
            },
          "rent_per_contract": {
                "type": "float",
                "path": "//d:lot[*index*]/d:dealFee/text()"
            },
          "contract_fee": {
                "type": "float",
                "path": "//d:lot[*index*]/d:contractFee/text()"
            },
          "deposit_size": {
                "type": "float",
                "path": "//d:lot[*index*]/d:depositSize/text()"
            },
          "is_subrent": {
                "type": "float",
                "path": "//d:lot[*index*]/d:isSubrent/text()"
            },
          "is_burdened": {
                "type": "float",
                "path": "//d:lot[*index*]/d:isBurdened/text()"
            },
          "rent_price_per_area": {
                "type": "float",
                "path": "//d:lot[*index*]/d:startPricePerMonth/text()"
            },
            "sale_type": {
                "type": "string",
                "path": "//d:bidType/d:name/text()"
            },
            "price_total": {
                "path": "//d:startPrice/text()",
                "type": "float"
            },
            "date_created": {
                "type": "date",
                "path": "//d:published/text()",
                "time": "string"
            },
            "description": {
                "type": "string",
                "path": "//d:lot/d:description/text()"
            },
            "price": {
                "type": "float",
                "path": "//d:startPriceAreaSm/text()"
            },
            "price_term": {
                "type": "string",
                "path": "//d:lot/d:article/d:name/text()"
            },
            "price_currency": {
                "type": "string",
                "path": "//d:lot[*index*]/d:currency/text()"
            },
            "seller_name": {
                "type": "string",
                "path": "//d:bidOrganization/d:fullName/text()"
            },
          "bargain_for_msp": {
                "type": "string",
                "path": "//d:isOnlySmps/text()"
            },
          "doc_rate": {
                "type": "float",
                "path": "//d:docChargeRateRur/text()"
            },
          "doc_provide": {
                "type": "string",
                "path": "//d:common/d:docProvide/text()"
            },
          "trade_term_refusal": {
                "type": "date",
                "time": "string",
                "path": "//d:common/d:expireDate/text()"
            },
          "trade_date": {
                "type": "date",
                "time": "string",
                "path": "//d:common/d:bidAuctionDate/text()"
            },
           "bid_auction_place": {
                "type": "string",
                "path": "//d:common/d:bidAuctionPlace/text()"
            },
	    "phone": {
		"type": "string",
                "path": "//d:bidOrganization//d:phone/text()"
	    },
          "fax": {
		"type": "string",
                "path": "//d:bidOrganization//d:fax/text()"
	    },
            "email": {
		"type": "string",
                "path": "//d:bidOrganization//d:email/text()"
	    },
	    "purpose": {
		"type": "string",
                "path": "//d:mission/text()"
	    },
"url": {
		"type": "string",
                "path": "//d:notificationUrl/text()"
	    },
"area_total": {
		"type": "float",
                "path": "//d:area/text()"
	    },
"date_updated": {
		"type": "date",
                "path": "//d:lastChanged/text()",
"time": "string"
	    }
        }
    }
}