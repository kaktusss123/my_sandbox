{
  "_task_id": "DOSKA>RU",
  "_start_urls": [
    "https://www.doska.ru/real-estate/ofisi/drugoe/",
    "https://www.doska.ru/real-estate/garages/",
    "https://www.doska.ru/real-estate/ofisi/",
    "https://www.doska.ru/real-estate/premises/storehouses-and-storages/",
    "https://www.doska.ru/real-estate/premises/hangars/",
    "https://www.doska.ru/real-estate/premises/bathhouses/",
    "https://www.doska.ru/real-estate/premises/buildings-and-complexes/",
    "https://www.doska.ru/real-estate/premises/shops/",
    "https://www.doska.ru/real-estate/premises/workshops/",
    "https://www.doska.ru/real-estate/premises/penthouses/",
    "https://www.doska.ru/real-estate/premises/basements-and-semi-basements/",
    "https://www.doska.ru/real-estate/premises/production-facilities/",
    "https://www.doska.ru/real-estate/premises/restaurants-cafe-dining-halls/",
    "https://www.doska.ru/real-estate/premises/saloons/",
    "https://www.doska.ru/real-estate/premises/training-halls/",
    "https://www.doska.ru/real-estate/premises/other/",
    "https://www.doska.ru/real-estate/premises/playing-halls/",
    "https://www.doska.ru/real-estate/premises/workshops/",
    "https://www.doska.ru/real-estate/premises/premises-for-service-centers/",
    "https://www.doska.ru/real-estate/premises/training-halls/",
    "https://www.doska.ru/real-estate/premises/household-buildings/",
    "https://www.doska.ru/real-estate/ofisi/moskva/",
    "https://www.doska.ru/real-estate/ofisi/moskovskaja-oblastj/",
    "https://www.doska.ru/real-estate/ofisi/sankt-peterburg/",
    "https://www.doska.ru/real-estate/ofisi/leningradskaja-oblastj/",
    "https://www.doska.ru/real-estate/ofisi/altajskij-kraj/",
    "https://www.doska.ru/real-estate/ofisi/astrahanskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/belgorodskaja/",
    "https://www.doska.ru/real-estate/ofisi/brjanskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/vladimirskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/volgogradskaja/",
    "https://www.doska.ru/real-estate/ofisi/voronezhskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/evrejskaja-ao/",
    "https://www.doska.ru/real-estate/ofisi/irkutskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/kaliningradskaja/",
    "https://www.doska.ru/real-estate/ofisi/kaluzhskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/kemerovskaja/",
    "https://www.doska.ru/real-estate/ofisi/krasnodarskij-kraj/",
    "https://www.doska.ru/real-estate/ofisi/krasnojarskij-kraj/",
    "https://www.doska.ru/real-estate/ofisi/lipeckaja/",
    "https://www.doska.ru/real-estate/ofisi/murmanskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/nizhegorodskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/novosibirskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/omskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/orenburgskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/baskkortostan/",
    "https://www.doska.ru/real-estate/ofisi/respublika-marij-el/",
    "https://www.doska.ru/real-estate/ofisi/respublika-tatarstan/",
    "https://www.doska.ru/real-estate/ofisi/rostovskaja/",
    "https://www.doska.ru/real-estate/ofisi/rjazanskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/samarskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/saratovskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/sverdlovskaja/",
    "https://www.doska.ru/real-estate/ofisi/smolenskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/stavropolskij-kraj/",
    "https://www.doska.ru/real-estate/ofisi/tverskaja/",
    "https://www.doska.ru/real-estate/ofisi/tulskaja/",
    "https://www.doska.ru/real-estate/ofisi/tjumenskaja/",
    "https://www.doska.ru/real-estate/ofisi/udmurtskaja-respublika/",
    "https://www.doska.ru/real-estate/ofisi/habarovskij-kraj/",
    "https://www.doska.ru/real-estate/ofisi/hanti-mansijskij-ao/",
    "https://www.doska.ru/real-estate/ofisi/4eljabinskaja-oblast/",
    "https://www.doska.ru/real-estate/ofisi/jamalo-neneckij-ao/",
    "https://www.doska.ru/real-estate/ofisi/jaroslavskaja-oblast/"
  ],
  "_segment": "Коммерческая недвижимость",
  "_operation": "sale",
  "_federal_subject": "23",
  "_source": "doska.ru",
  "global_settings": {
    "CONCURRENT_REQUESTS": 724,
    "SPLASH_URL": "http://0.0.0.0:8050",
    "LOG_LEVEL": "INFO",
    "AUTOTHROTTLE_ENABLED": true,
    "AUTOTHROTTLE_START_DELAY": 1.0,
    "AUTOTHROTTLE_MAX_DELAY": 60,
    "AUTOTHROTTLE_TARGET_CONCURRENCY": 724,
    "CONCURRENT_REQUESTS_PER_DOMAIN": 724,
    "RETRY_ENABLED": true,
    "RETRY_HTTP_CODES": [
      500,
      503,
      504,
      400,
      403,
      408,
      429,
      505,
      404,
      303,
      302,
      307,
      410,
      451
    ],
    "HTTPERROR_ALLOWED_CODES": [],
    "RETRY_TIMES": 20,
    "ROBOTSTXT_ENABLED": false,
    "ROBOTSTXT_OBEY": false,
    "REDIRECT_ENABLED": true,
    "COOKIES_ENABLED": true,
    "RANDOM_UA_TYPE": "random",
    "DOWNLOAD_TIMEOUT": 60
  },
  "methods": {
    "crawling_type": "common",
    "filter_duplicates": true,
    "allowed_domains": [],
    "proxy_settings": {
      "types": [
        "https"
      ]
    }
  },
  "crawl_tree": [
    {
      "pagination_urls": {
        "path": "//button[contains(@onclick,'return false')]/following-sibling::a[1]/@href"
      },
      "item_urls": {
        "path": "//div[@class='d1']/a[contains(@class, 'am')]/@href"
      }
    }
  ],
  "item_page": {
    "methods": {
      "crawling_type": "common",
      "filter_duplicates": false,
      "js": ""
    },
    "fields": {
      "title_name": {
        "type": "string",
        "path": "//title/text()"
      },
      "date_info": {
        "type": "date",
        "time": "now"
      },
      "date_created": {
        "type": "date",
        "time": "from string",
        "path": "//td[contains(text(),'Дата:')]/text()",
        "regex": "(?<=Дата:).+"
      },
      "description": {
        "type": "list to string",
        "path": "//div[@id='msg_div_msg']/text()"
      },
      "total_price": {
        "type": "float",
        "path": "//span[@class='ads_price']/text()",
        "regex": "[0-9 ,.]+"
      },
      "price_currency": {
        "type": "string",
        "path": "//span[@class='ads_price']/text()",
        "regex": "[А-Яа-я]+"
      },
      "price_per_m": {
        "type": "string",
        "path": "//span[@class='ads_price']/span/text()",
        "regex": "[0-9 ,.]+"
      },
      "source_latitude": {
        "type": "float",
        "path": "//span[@class = 'td15']/a/@onclick",
        "regex": "(?<=c=)(\\d{1,3}[\\.]{0,1}\\d{2,100})"
      },
      "source_longitude": {
        "type": "float",
        "path": "//span[@class = 'td15']/a/@onclick",
        "regex": "(?<=\\, )(\\d{1,3}[\\.]{0,1}\\d{2,100})"
      },
      "purpose": {
        "type": "string",
        "path": "//h2[@class='headtitle']/a[1]/text()"
      }
    },
    "tables": {
      "table_1": {
        "_keys_path": "//td[@class='ads_opt_name']/text()",
        "_vals_path": "//td[@class='ads_opt']//text()",
        "key_converter": {
          "комнат": {
            "name": "rooms_cnt",
            "type": "float"
          },
          "область": {
            "name": "federal_subject",
            "type": "string"
          },
          "площадь": {
            "name": "area_total",
            "type": "float"
          },
          "район_м": {
            "name": "metro_station",
            "type": "string"
          },
          "удобства": {
            "name": "is_comfort",
            "type": "string"
          },
          "улица": {
            "name": "address",
            "type": "string"
          },
          "этаж__этажей": {
            "name": [
              "floor",
              "floors_cnt"
            ],
            "type": [
              "float",
              "float"
            ],
            "regex": [
              "^\\d+",
              "\\d+$"
            ]
          },
          "город": {
            "name": "address_city",
            "type": "string"
          },
          "район": {
            "name": "district_name",
            "type": "string"
          },
          "адрес_и_номер_дома": {
            "name": "street_name",
            "type": "string"
          }
        }
      }
    }
  }
}